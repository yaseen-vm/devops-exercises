<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps Exercises - Interactive Learning</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; margin-bottom: 40px; }
        .header h1 { color: #2c3e50; margin-bottom: 10px; }
        .progress-bar { width: 100%; height: 10px; background: #ecf0f1; border-radius: 5px; margin: 20px 0; }
        .progress { height: 100%; background: #3498db; border-radius: 5px; transition: width 0.3s; }
        .sidebar { position: fixed; left: -300px; top: 0; width: 300px; height: 100vh; background: #34495e; color: white; transition: left 0.3s; overflow-y: auto; z-index: 1000; }
        .sidebar.open { left: 0; }
        .sidebar h3 { padding: 20px; background: #2c3e50; }
        .sidebar ul { list-style: none; }
        .sidebar li { padding: 10px 20px; cursor: pointer; border-bottom: 1px solid #2c3e50; }
        .sidebar li:hover { background: #2c3e50; }
        .sidebar li.active { background: #3498db; }
        .menu-btn { position: fixed; top: 20px; left: 20px; background: #3498db; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; z-index: 1001; }
        .main-content { margin-left: 0; transition: margin-left 0.3s; }
        .exercise-card { background: white; border-radius: 10px; padding: 30px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .exercise-title { color: #2c3e50; margin-bottom: 15px; }
        .exercise-content { display: none; }
        .exercise-content.active { display: block; }
        .code-block { background: #2c3e50; color: #ecf0f1; padding: 20px; border-radius: 5px; margin: 15px 0; overflow-x: auto; }
        .btn { background: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        .btn:hover { background: #2980b9; }
        .btn.completed { background: #27ae60; }
        .task-list { margin: 15px 0; }
        .task-item { padding: 10px; margin: 5px 0; background: #f8f9fa; border-left: 4px solid #3498db; cursor: pointer; }
        .task-item.completed { background: #d4edda; border-left-color: #27ae60; }
        .search-box { width: 100%; padding: 15px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px; }
    </style>
</head>
<body>
    <button class="menu-btn" onclick="toggleSidebar()">‚ò∞ Menu</button>
    
    <div class="sidebar" id="sidebar">
        <h3>DevOps Exercises</h3>
        <ul id="exerciseList"></ul>
    </div>
    
    <div class="main-content" id="mainContent">
        <div class="container">
            <div class="header">
                <h1>üöÄ DevOps Exercises - Interactive Learning</h1>
                <p>Master DevOps from basic to advanced with hands-on exercises</p>
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
                <p id="progressText">Progress: 0/30 exercises completed</p>
            </div>
            
            <input type="text" class="search-box" placeholder="üîç Search exercises..." onkeyup="searchExercises(this.value)">
            
            <div id="exerciseContainer"></div>
        </div>
    </div>

    <script>
        const exercises = [
            // BASIC LEVEL
            {
                id: 1,
                title: "File System Navigation",
                level: "Basic",
                difficulty: "üü¢",
                tasks: [
                    "Create directory structure",
                    "Navigate using cd, pwd",
                    "List files with ls commands",
                    "Create files with touch"
                ],
                commands: `mkdir -p projects/web/{frontend,backend}
cd projects/web/frontend
pwd
touch index.html
ls -la`
            },
            {
                id: 2,
                title: "Basic File Operations",
                level: "Basic",
                difficulty: "üü¢",
                tasks: [
                    "Copy files and directories",
                    "Move and rename files",
                    "Delete files safely",
                    "View file contents"
                ],
                commands: `cp file.txt backup.txt
mv old.txt new.txt
rm unwanted.txt
cat file.txt
head -10 file.txt`
            },
            {
                id: 3,
                title: "Git Introduction",
                level: "Basic",
                difficulty: "üü¢",
                tasks: [
                    "Initialize Git repository",
                    "Configure user settings",
                    "Make first commit",
                    "Check status and history"
                ],
                commands: `git init
git config --global user.name "Your Name"
git add .
git commit -m "First commit"
git status
git log`
            },
            {
                id: 4,
                title: "Text Processing & Pipes",
                level: "Basic",
                difficulty: "üü¢",
                tasks: [
                    "Use grep to search text",
                    "Filter data with awk",
                    "Transform text with sed",
                    "Combine commands with pipes"
                ],
                commands: `grep "error" app.log
cat file.txt | grep "pattern" | wc -l
sed 's/old/new/g' file.txt
awk '{print $1, $3}' data.txt`
            },
            {
                id: 5,
                title: "Environment Variables",
                level: "Basic",
                difficulty: "üü¢",
                tasks: [
                    "Set and export variables",
                    "Use variables in scripts",
                    "Understand PATH variable",
                    "Create .bashrc configurations"
                ],
                commands: `export MY_VAR="hello"
echo $MY_VAR
export PATH=$PATH:/new/path
echo 'export MY_VAR="value"' >> ~/.bashrc`
            },
            {
                id: 6,
                title: "Package Management",
                level: "Basic",
                difficulty: "üü¢",
                tasks: [
                    "Install packages with apt/yum",
                    "Update system packages",
                    "Search for packages",
                    "Remove unused packages"
                ],
                commands: `sudo apt update
sudo apt install nginx
apt search docker
sudo apt autoremove`
            },
            
            // BEGINNER LEVEL
            {
                id: 7,
                title: "File Permissions",
                level: "Beginner",
                difficulty: "üü°",
                tasks: [
                    "Understand rwx permissions",
                    "Change file permissions",
                    "Create executable scripts",
                    "Modify ownership"
                ],
                commands: `chmod 755 script.sh
chmod +x deploy.sh
ls -l file.txt
chown user:group file.txt`
            },
            {
                id: 8,
                title: "Git Branching",
                level: "Beginner",
                difficulty: "üü°",
                tasks: [
                    "Create and switch branches",
                    "Merge branches",
                    "Handle basic conflicts",
                    "Delete branches"
                ],
                commands: `git branch feature
git checkout feature
git merge main
git branch -d feature`
            },
            {
                id: 9,
                title: "Docker Basics",
                level: "Beginner",
                difficulty: "üü°",
                tasks: [
                    "Pull and run containers",
                    "List running containers",
                    "Stop and remove containers",
                    "View container logs"
                ],
                commands: `docker pull nginx
docker run -d -p 8080:80 nginx
docker ps
docker stop <container-id>
docker logs <container-id>`
            },
            {
                id: 10,
                title: "Process Management",
                level: "Beginner",
                difficulty: "üü°",
                tasks: [
                    "View running processes",
                    "Kill processes by PID",
                    "Run background jobs",
                    "Monitor system resources"
                ],
                commands: `ps aux
top
kill -9 <pid>
nohup command &
htop`
            },
            {
                id: 11,
                title: "SSH & Remote Access",
                level: "Beginner",
                difficulty: "üü°",
                tasks: [
                    "Connect to remote servers",
                    "Generate SSH keys",
                    "Copy files with scp",
                    "Configure SSH config"
                ],
                commands: `ssh user@server.com
ssh-keygen -t rsa
scp file.txt user@server:/path/
rsync -av local/ user@server:remote/`
            },
            {
                id: 12,
                title: "System Monitoring",
                level: "Beginner",
                difficulty: "üü°",
                tasks: [
                    "Check disk usage",
                    "Monitor memory usage",
                    "View system logs",
                    "Check network connections"
                ],
                commands: `df -h
free -h
journalctl -f
netstat -tulpn
iostat`
            },
            
            // INTERMEDIATE LEVEL
            {
                id: 13,
                title: "Advanced Git Workflows",
                level: "Intermediate",
                difficulty: "üü†",
                tasks: [
                    "Interactive rebase",
                    "Cherry-pick commits",
                    "Use Git stash",
                    "Configure Git hooks"
                ],
                commands: `git rebase -i HEAD~3
git cherry-pick <commit-hash>
git stash
git stash pop
echo '#!/bin/bash' > .git/hooks/pre-commit`
            },
            {
                id: 14,
                title: "Docker Compose",
                level: "Intermediate",
                difficulty: "üü†",
                tasks: [
                    "Create multi-service apps",
                    "Use environment variables",
                    "Configure networks",
                    "Scale services"
                ],
                commands: `docker-compose up -d
docker-compose scale web=3
docker-compose logs
docker-compose down`
            },
            {
                id: 15,
                title: "CI/CD with GitHub Actions",
                level: "Intermediate",
                difficulty: "üü†",
                tasks: [
                    "Create workflow files",
                    "Set up automated testing",
                    "Deploy applications",
                    "Use secrets and variables"
                ],
                commands: `# .github/workflows/ci.yml
name: CI
on: [push]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - run: npm test`
            },
            {
                id: 16,
                title: "Ansible Configuration",
                level: "Intermediate",
                difficulty: "üü†",
                tasks: [
                    "Write Ansible playbooks",
                    "Create inventory files",
                    "Use variables and templates",
                    "Run playbooks on multiple hosts"
                ],
                commands: `ansible-playbook -i inventory playbook.yml
ansible all -m ping
ansible-vault encrypt secrets.yml
ansible-galaxy install role_name`
            },
            {
                id: 17,
                title: "Jenkins Pipeline",
                level: "Intermediate",
                difficulty: "üü†",
                tasks: [
                    "Create Jenkinsfile",
                    "Set up build stages",
                    "Implement parallel execution",
                    "Add post-build actions"
                ],
                commands: `// Jenkinsfile
pipeline {
  agent any
  stages {
    stage('Build') {
      steps { sh 'npm install' }
    }
  }
}`
            },
            {
                id: 18,
                title: "AWS CLI & Services",
                level: "Intermediate",
                difficulty: "üü†",
                tasks: [
                    "Configure AWS CLI",
                    "Manage EC2 instances",
                    "Work with S3 buckets",
                    "Deploy with CloudFormation"
                ],
                commands: `aws configure
aws ec2 describe-instances
aws s3 cp file.txt s3://bucket/
aws cloudformation deploy --template-file template.yml`
            },
            
            // PRO LEVEL
            {
                id: 19,
                title: "Kubernetes Deployment",
                level: "Pro",
                difficulty: "üî¥",
                tasks: [
                    "Create deployments and services",
                    "Configure ingress controllers",
                    "Implement rolling updates",
                    "Set up monitoring"
                ],
                commands: `kubectl apply -f deployment.yaml
kubectl expose deployment app --port=80
kubectl rollout status deployment/app
kubectl get pods`
            },
            {
                id: 20,
                title: "Infrastructure as Code (Terraform)",
                level: "Pro",
                difficulty: "üî¥",
                tasks: [
                    "Write Terraform configurations",
                    "Manage state files",
                    "Use modules and variables",
                    "Plan and apply changes"
                ],
                commands: `terraform init
terraform plan
terraform apply
terraform destroy`
            },
            {
                id: 21,
                title: "Monitoring with Prometheus",
                level: "Pro",
                difficulty: "üî¥",
                tasks: [
                    "Set up Prometheus server",
                    "Configure Grafana dashboards",
                    "Create alerting rules",
                    "Monitor application metrics"
                ],
                commands: `# prometheus.yml
global:
  scrape_interval: 15s
scrape_configs:
  - job_name: 'app'
    static_configs:
      - targets: ['localhost:8080']`
            },
            {
                id: 22,
                title: "ELK Stack (Logging)",
                level: "Pro",
                difficulty: "üî¥",
                tasks: [
                    "Set up Elasticsearch cluster",
                    "Configure Logstash pipelines",
                    "Create Kibana dashboards",
                    "Implement log parsing"
                ],
                commands: `# logstash.conf
input { beats { port => 5044 } }
filter { grok { match => { "message" => "%{COMBINEDAPACHELOG}" } } }
output { elasticsearch { hosts => ["localhost:9200"] } }`
            },
            {
                id: 23,
                title: "Security Scanning",
                level: "Pro",
                difficulty: "üî¥",
                tasks: [
                    "Scan containers for vulnerabilities",
                    "Implement SAST in pipelines",
                    "Set up dependency scanning",
                    "Create security policies"
                ],
                commands: `trivy image nginx:latest
bandit -r python_project/
npm audit
docker run --rm -v $(pwd):/app clair-scanner`
            },
            {
                id: 24,
                title: "Load Balancing & High Availability",
                level: "Pro",
                difficulty: "üî¥",
                tasks: [
                    "Configure Nginx load balancer",
                    "Set up health checks",
                    "Implement failover strategies",
                    "Monitor load distribution"
                ],
                commands: `# nginx.conf
upstream backend {
  server 192.168.1.10:8080;
  server 192.168.1.11:8080;
}
server {
  location / { proxy_pass http://backend; }
}`
            },
            
            // EXPERT LEVEL
            {
                id: 25,
                title: "Service Mesh with Istio",
                level: "Expert",
                difficulty: "üü£",
                tasks: [
                    "Install and configure Istio",
                    "Implement traffic management",
                    "Set up security policies",
                    "Monitor service communications"
                ],
                commands: `istioctl install
kubectl label namespace default istio-injection=enabled
kubectl apply -f virtual-service.yaml
istioctl proxy-config cluster <pod-name>`
            },
            {
                id: 26,
                title: "GitOps with ArgoCD",
                level: "Expert",
                difficulty: "üü£",
                tasks: [
                    "Set up ArgoCD server",
                    "Create application manifests",
                    "Implement automated sync",
                    "Configure multi-environment deployments"
                ],
                commands: `kubectl create namespace argocd
kubectl apply -n argocd -f argocd-install.yaml
argocd app create myapp --repo https://github.com/user/repo
argocd app sync myapp`
            },
            {
                id: 27,
                title: "Chaos Engineering",
                level: "Expert",
                difficulty: "üü£",
                tasks: [
                    "Implement chaos experiments",
                    "Test system resilience",
                    "Monitor failure scenarios",
                    "Automate chaos testing"
                ],
                commands: `# chaos-experiment.yaml
apiVersion: litmuschaos.io/v1alpha1
kind: ChaosExperiment
metadata:
  name: pod-delete
spec:
  definition:
    chaos: pod-delete`
            },
            {
                id: 28,
                title: "Multi-Cloud Architecture",
                level: "Expert",
                difficulty: "üü£",
                tasks: [
                    "Design cross-cloud deployments",
                    "Implement disaster recovery",
                    "Optimize costs across providers",
                    "Manage hybrid workloads"
                ],
                commands: `# Multi-cloud Terraform
provider "aws" { region = "us-west-2" }
provider "google" { region = "us-central1" }
resource "aws_instance" "web" {}
resource "google_compute_instance" "app" {}`
            },
            {
                id: 29,
                title: "Advanced Security & Compliance",
                level: "Expert",
                difficulty: "üü£",
                tasks: [
                    "Implement zero-trust architecture",
                    "Set up compliance scanning",
                    "Configure runtime security",
                    "Automate security policies"
                ],
                commands: `falco --rules-file custom.yaml
twistcli images scan nginx:latest
open-policy-agent eval policy.rego
kube-bench run --targets master,node`
            },
            {
                id: 30,
                title: "Platform Engineering",
                level: "Expert",
                difficulty: "üü£",
                tasks: [
                    "Build internal developer platforms",
                    "Create self-service portals",
                    "Implement golden paths",
                    "Design platform APIs"
                ],
                commands: `# backstage.io platform
npx @backstage/create-app
kubectl apply -f platform-api.yaml
helm install developer-portal ./charts/portal
crossplane install provider provider-aws`
            }
        ];

        let completedExercises = JSON.parse(localStorage.getItem('completedExercises') || '[]');
        let currentExercise = 0;

        function initApp() {
            renderSidebar();
            renderExercises();
            updateProgress();
        }

        function renderSidebar() {
            const list = document.getElementById('exerciseList');
            const levels = ['Basic', 'Beginner', 'Intermediate', 'Pro', 'Expert'];
            
            list.innerHTML = levels.map(level => `
                <li style="background: #2c3e50; font-weight: bold;">${level} Level</li>
                ${exercises.filter(e => e.level === level).map(exercise => `
                    <li onclick="showExercise(${exercise.id})" class="${completedExercises.includes(exercise.id) ? 'completed' : ''}" data-id="${exercise.id}">
                        ${exercise.difficulty} ${completedExercises.includes(exercise.id) ? '‚úÖ' : 'üìù'} ${exercise.title}
                    </li>
                `).join('')}
            `).join('');
        }

        function renderExercises() {
            const container = document.getElementById('exerciseContainer');
            container.innerHTML = exercises.map(exercise => `
                <div class="exercise-card">
                    <h2 class="exercise-title">
                        ${completedExercises.includes(exercise.id) ? '‚úÖ' : 'üìù'} 
                        Exercise ${exercise.id}: ${exercise.title}
                    </h2>
                    <p><strong>Level:</strong> ${exercise.difficulty} ${exercise.level}</p>
                    
                    <div class="task-list">
                        <h3>Tasks:</h3>
                        ${exercise.tasks.map((task, index) => `
                            <div class="task-item" onclick="toggleTask(${exercise.id}, ${index})">
                                <span id="task-${exercise.id}-${index}">‚≠ï</span> ${task}
                            </div>
                        `).join('')}
                    </div>
                    
                    <h3>Commands to Practice:</h3>
                    <div class="code-block">${exercise.commands}</div>
                    
                    <button class="btn ${completedExercises.includes(exercise.id) ? 'completed' : ''}" 
                            onclick="toggleComplete(${exercise.id})">
                        ${completedExercises.includes(exercise.id) ? '‚úÖ Completed' : 'üìù Mark Complete'}
                    </button>
                    <button class="btn" onclick="copyCommands(${exercise.id})">üìã Copy Commands</button>
                </div>
            `).join('');
        }

        function toggleComplete(exerciseId) {
            if (completedExercises.includes(exerciseId)) {
                completedExercises = completedExercises.filter(id => id !== exerciseId);
            } else {
                completedExercises.push(exerciseId);
            }
            localStorage.setItem('completedExercises', JSON.stringify(completedExercises));
            renderSidebar();
            renderExercises();
            updateProgress();
        }

        function updateProgress() {
            const progress = (completedExercises.length / exercises.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = 
                `Progress: ${completedExercises.length}/${exercises.length} exercises completed`;
        }

        function copyCommands(exerciseId) {
            const exercise = exercises.find(e => e.id === exerciseId);
            navigator.clipboard.writeText(exercise.commands);
            alert('Commands copied to clipboard!');
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        function showExercise(exerciseId) {
            document.getElementById(`exercise-${exerciseId}`).scrollIntoView({behavior: 'smooth'});
            toggleSidebar();
        }

        function searchExercises(query) {
            const cards = document.querySelectorAll('.exercise-card');
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(query.toLowerCase()) ? 'block' : 'none';
            });
        }

        function toggleTask(exerciseId, taskIndex) {
            const taskElement = document.getElementById(`task-${exerciseId}-${taskIndex}`);
            const isCompleted = taskElement.textContent === '‚úÖ';
            taskElement.textContent = isCompleted ? '‚≠ï' : '‚úÖ';
            taskElement.parentElement.classList.toggle('completed');
        }

        // Initialize app
        initApp();
    </script>
</body>
</html>