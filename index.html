<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps Exercises - Interactive Learning</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; margin-bottom: 40px; }
        .header h1 { color: #2c3e50; margin-bottom: 10px; }
        .progress-bar { width: 100%; height: 10px; background: #ecf0f1; border-radius: 5px; margin: 20px 0; }
        .progress { height: 100%; background: #3498db; border-radius: 5px; transition: width 0.3s; }
        .sidebar { position: fixed; left: -300px; top: 0; width: 300px; height: 100vh; background: #34495e; color: white; transition: left 0.3s; overflow-y: auto; z-index: 1000; }
        .sidebar.open { left: 0; }
        .sidebar h3 { padding: 20px; background: #2c3e50; }
        .sidebar ul { list-style: none; }
        .sidebar li { padding: 10px 20px; cursor: pointer; border-bottom: 1px solid #2c3e50; }
        .sidebar li:hover { background: #2c3e50; }
        .sidebar li.active { background: #3498db; }
        .menu-btn { position: fixed; top: 20px; left: 20px; background: #3498db; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; z-index: 1001; }
        .main-content { margin-left: 0; transition: margin-left 0.3s; }
        .exercise-card { background: white; border-radius: 10px; padding: 30px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .exercise-title { color: #2c3e50; margin-bottom: 15px; }
        .exercise-content { display: none; }
        .exercise-content.active { display: block; }
        .code-block { background: #2c3e50; color: #ecf0f1; padding: 20px; border-radius: 5px; margin: 15px 0; overflow-x: auto; }
        .btn { background: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        .btn:hover { background: #2980b9; }
        .btn.completed { background: #27ae60; }
        .task-list { margin: 15px 0; }
        .task-item { padding: 10px; margin: 5px 0; background: #f8f9fa; border-left: 4px solid #3498db; cursor: pointer; }
        .task-item.completed { background: #d4edda; border-left-color: #27ae60; }
        .search-box { width: 100%; padding: 15px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px; }
    </style>
</head>
<body>
    <button class="menu-btn" onclick="toggleSidebar()">☰ Menu</button>
    
    <div class="sidebar" id="sidebar">
        <h3>DevOps Exercises</h3>
        <ul id="exerciseList"></ul>
    </div>
    
    <div class="main-content" id="mainContent">
        <div class="container">
            <div class="header">
                <h1>🚀 DevOps Exercises - Interactive Learning</h1>
                <p>Master DevOps from basic to advanced with hands-on exercises</p>
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
                <p id="progressText">Progress: 0/15 exercises completed</p>
            </div>
            
            <input type="text" class="search-box" placeholder="🔍 Search exercises..." onkeyup="searchExercises(this.value)">
            
            <div id="exerciseContainer"></div>
        </div>
    </div>

    <script>
        const exercises = [
            // BASIC LEVEL
            {
                id: 1,
                title: "File System Navigation",
                level: "Basic",
                difficulty: "🟢",
                tasks: [
                    "Create directory structure",
                    "Navigate using cd, pwd",
                    "List files with ls commands",
                    "Create files with touch"
                ],
                commands: `mkdir -p projects/web/{frontend,backend}
cd projects/web/frontend
pwd
touch index.html
ls -la`
            },
            {
                id: 2,
                title: "Basic File Operations",
                level: "Basic",
                difficulty: "🟢",
                tasks: [
                    "Copy files and directories",
                    "Move and rename files",
                    "Delete files safely",
                    "View file contents"
                ],
                commands: `cp file.txt backup.txt
mv old.txt new.txt
rm unwanted.txt
cat file.txt
head -10 file.txt`
            },
            {
                id: 3,
                title: "Git Introduction",
                level: "Basic",
                difficulty: "🟢",
                tasks: [
                    "Initialize Git repository",
                    "Configure user settings",
                    "Make first commit",
                    "Check status and history"
                ],
                commands: `git init
git config --global user.name "Your Name"
git add .
git commit -m "First commit"
git status
git log`
            },
            
            // BEGINNER LEVEL
            {
                id: 4,
                title: "File Permissions",
                level: "Beginner",
                difficulty: "🟡",
                tasks: [
                    "Understand rwx permissions",
                    "Change file permissions",
                    "Create executable scripts",
                    "Modify ownership"
                ],
                commands: `chmod 755 script.sh
chmod +x deploy.sh
ls -l file.txt
chown user:group file.txt`
            },
            {
                id: 5,
                title: "Git Branching",
                level: "Beginner",
                difficulty: "🟡",
                tasks: [
                    "Create and switch branches",
                    "Merge branches",
                    "Handle basic conflicts",
                    "Delete branches"
                ],
                commands: `git branch feature
git checkout feature
git merge main
git branch -d feature`
            },
            {
                id: 6,
                title: "Docker Basics",
                level: "Beginner",
                difficulty: "🟡",
                tasks: [
                    "Pull and run containers",
                    "List running containers",
                    "Stop and remove containers",
                    "View container logs"
                ],
                commands: `docker pull nginx
docker run -d -p 8080:80 nginx
docker ps
docker stop <container-id>
docker logs <container-id>`
            },
            
            // INTERMEDIATE LEVEL
            {
                id: 7,
                title: "Advanced Git Workflows",
                level: "Intermediate",
                difficulty: "🟠",
                tasks: [
                    "Interactive rebase",
                    "Cherry-pick commits",
                    "Use Git stash",
                    "Configure Git hooks"
                ],
                commands: `git rebase -i HEAD~3
git cherry-pick <commit-hash>
git stash
git stash pop
echo '#!/bin/bash' > .git/hooks/pre-commit`
            },
            {
                id: 8,
                title: "Docker Compose",
                level: "Intermediate",
                difficulty: "🟠",
                tasks: [
                    "Create multi-service apps",
                    "Use environment variables",
                    "Configure networks",
                    "Scale services"
                ],
                commands: `docker-compose up -d
docker-compose scale web=3
docker-compose logs
docker-compose down`
            },
            {
                id: 9,
                title: "CI/CD with GitHub Actions",
                level: "Intermediate",
                difficulty: "🟠",
                tasks: [
                    "Create workflow files",
                    "Set up automated testing",
                    "Deploy applications",
                    "Use secrets and variables"
                ],
                commands: `# .github/workflows/ci.yml
name: CI
on: [push]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - run: npm test`
            },
            
            // PRO LEVEL
            {
                id: 10,
                title: "Kubernetes Deployment",
                level: "Pro",
                difficulty: "🔴",
                tasks: [
                    "Create deployments and services",
                    "Configure ingress controllers",
                    "Implement rolling updates",
                    "Set up monitoring"
                ],
                commands: `kubectl apply -f deployment.yaml
kubectl expose deployment app --port=80
kubectl rollout status deployment/app
kubectl get pods`
            },
            {
                id: 11,
                title: "Infrastructure as Code (Terraform)",
                level: "Pro",
                difficulty: "🔴",
                tasks: [
                    "Write Terraform configurations",
                    "Manage state files",
                    "Use modules and variables",
                    "Plan and apply changes"
                ],
                commands: `terraform init
terraform plan
terraform apply
terraform destroy`
            },
            {
                id: 12,
                title: "Monitoring with Prometheus",
                level: "Pro",
                difficulty: "🔴",
                tasks: [
                    "Set up Prometheus server",
                    "Configure Grafana dashboards",
                    "Create alerting rules",
                    "Monitor application metrics"
                ],
                commands: `# prometheus.yml
global:
  scrape_interval: 15s
scrape_configs:
  - job_name: 'app'
    static_configs:
      - targets: ['localhost:8080']`
            },
            
            // EXPERT LEVEL
            {
                id: 13,
                title: "Service Mesh with Istio",
                level: "Expert",
                difficulty: "🟣",
                tasks: [
                    "Install and configure Istio",
                    "Implement traffic management",
                    "Set up security policies",
                    "Monitor service communications"
                ],
                commands: `istioctl install
kubectl label namespace default istio-injection=enabled
kubectl apply -f virtual-service.yaml
istioctl proxy-config cluster <pod-name>`
            },
            {
                id: 14,
                title: "Advanced Security Scanning",
                level: "Expert",
                difficulty: "🟣",
                tasks: [
                    "Implement SAST/DAST scanning",
                    "Container vulnerability assessment",
                    "Runtime security monitoring",
                    "Compliance automation"
                ],
                commands: `trivy image nginx:latest
falco --rules-file custom.yaml
twistcli images scan nginx:latest
open-policy-agent eval policy.rego`
            },
            {
                id: 15,
                title: "Multi-Cloud Architecture",
                level: "Expert",
                difficulty: "🟣",
                tasks: [
                    "Design cross-cloud deployments",
                    "Implement disaster recovery",
                    "Optimize costs across providers",
                    "Manage hybrid workloads"
                ],
                commands: `# Multi-cloud Terraform
provider "aws" { region = "us-west-2" }
provider "google" { region = "us-central1" }
resource "aws_instance" "web" {}
resource "google_compute_instance" "app" {}`
            }
        ];

        let completedExercises = JSON.parse(localStorage.getItem('completedExercises') || '[]');
        let currentExercise = 0;

        function initApp() {
            renderSidebar();
            renderExercises();
            updateProgress();
        }

        function renderSidebar() {
            const list = document.getElementById('exerciseList');
            const levels = ['Basic', 'Beginner', 'Intermediate', 'Pro', 'Expert'];
            
            list.innerHTML = levels.map(level => `
                <li style="background: #2c3e50; font-weight: bold;">${level} Level</li>
                ${exercises.filter(e => e.level === level).map(exercise => `
                    <li onclick="showExercise(${exercise.id})" class="${completedExercises.includes(exercise.id) ? 'completed' : ''}" data-id="${exercise.id}">
                        ${exercise.difficulty} ${completedExercises.includes(exercise.id) ? '✅' : '📝'} ${exercise.title}
                    </li>
                `).join('')}
            `).join('');
        }

        function renderExercises() {
            const container = document.getElementById('exerciseContainer');
            container.innerHTML = exercises.map(exercise => `
                <div class="exercise-card">
                    <h2 class="exercise-title">
                        ${completedExercises.includes(exercise.id) ? '✅' : '📝'} 
                        Exercise ${exercise.id}: ${exercise.title}
                    </h2>
                    <p><strong>Level:</strong> ${exercise.difficulty} ${exercise.level}</p>
                    
                    <div class="task-list">
                        <h3>Tasks:</h3>
                        ${exercise.tasks.map((task, index) => `
                            <div class="task-item" onclick="toggleTask(${exercise.id}, ${index})">
                                <span id="task-${exercise.id}-${index}">⭕</span> ${task}
                            </div>
                        `).join('')}
                    </div>
                    
                    <h3>Commands to Practice:</h3>
                    <div class="code-block">${exercise.commands}</div>
                    
                    <button class="btn ${completedExercises.includes(exercise.id) ? 'completed' : ''}" 
                            onclick="toggleComplete(${exercise.id})">
                        ${completedExercises.includes(exercise.id) ? '✅ Completed' : '📝 Mark Complete'}
                    </button>
                    <button class="btn" onclick="copyCommands(${exercise.id})">📋 Copy Commands</button>
                </div>
            `).join('');
        }

        function toggleComplete(exerciseId) {
            if (completedExercises.includes(exerciseId)) {
                completedExercises = completedExercises.filter(id => id !== exerciseId);
            } else {
                completedExercises.push(exerciseId);
            }
            localStorage.setItem('completedExercises', JSON.stringify(completedExercises));
            renderSidebar();
            renderExercises();
            updateProgress();
        }

        function updateProgress() {
            const progress = (completedExercises.length / exercises.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = 
                `Progress: ${completedExercises.length}/${exercises.length} exercises completed`;
        }

        function copyCommands(exerciseId) {
            const exercise = exercises.find(e => e.id === exerciseId);
            navigator.clipboard.writeText(exercise.commands);
            alert('Commands copied to clipboard!');
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        function showExercise(exerciseId) {
            document.getElementById(`exercise-${exerciseId}`).scrollIntoView({behavior: 'smooth'});
            toggleSidebar();
        }

        function searchExercises(query) {
            const cards = document.querySelectorAll('.exercise-card');
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(query.toLowerCase()) ? 'block' : 'none';
            });
        }

        function toggleTask(exerciseId, taskIndex) {
            const taskElement = document.getElementById(`task-${exerciseId}-${taskIndex}`);
            const isCompleted = taskElement.textContent === '✅';
            taskElement.textContent = isCompleted ? '⭕' : '✅';
            taskElement.parentElement.classList.toggle('completed');
        }

        // Initialize app
        initApp();
    </script>
</body>
</html>